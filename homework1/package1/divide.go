package package1

import (
	"fmt"
	"log"
)

/* Для закрепления навыков отложенного вызова функций, напишите программу, содержащую
вызов функции, которая будет создавать паническую ситуацию неявно. Затем создайте
отложенный вызов, который будет обрабатывать эту паническую ситуацию и, в частности,
печатать предупреждение в консоль. Критерием успешного выполнения задания является то,
что программа не завершается аварийно ни при каких условиях.
Дополните функцию из п.1 возвратом собственной ошибки в случае возникновения панической
ситуации. Собственная ошибка должна хранить время обнаружения панической ситуации.
Критерием успешного выполнения задания является наличие обработки созданной ошибки в
функции main и вывод ее состояния в консоль */

func main() {
	var a, b int
	fmt.Scan(&a, &b)
	safeDivide(a, b)
}

func safeDivide(a, b int) {

	defer func() {
		if err := recover(); err != nil {
			if fmt.Sprintf("%v", err) == "runtime error: integer divide by zero" {
				log.Println("Введите делимое не нулевое значение")
				return
			}
			log.Printf("Panic: %v", err)
		}
	}()

	fmt.Println("Результат: ", a/b)
}
